---
title: "Untitled"
format: html
editor: visual
---

# Rémi's version

## Reconstructing abundance vectors

Using Single Value Decomposition

creation of dummy abundance vectors

```{r}
a_i <- matrix(rpois(10,100))
a_j <- matrix(rpois(10,100))
(A_ij <- a_i %*% t(a_j))
```

```{r}
# Décomposition en valeurs singulières (SVD)
svd_result <- svd(A_ij)

# Extraction de U, Sigma et V
U <- svd_result$u
Sigma <- diag(svd_result$d)
V <- svd_result$v

U %*% Sigma %*% V

# Affichage des résultats
# print("Vecteurs ai:")
# print(U)
# print("Vecteurs aj:")
# print(V)
print("Vecteurs sigma:")
print(Sigma)
```

We are able to reconstruct perfectly the vectors!

However, as it is using an algorithm and not linear alegebra, we are not able to recover perfectly with only a value in the first column of sigma.

```{r}
U %*% Sigma %*% t(V)
```

```{r}
U[,1] %*% t(V[,1]) * Sigma[1,1]
```

```{r}
a_i
abs(U[,1] * sqrt(Sigma[1,1]))

a_j
abs(V[,1] * sqrt(Sigma[1,1]))
```
